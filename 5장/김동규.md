# 5장 구부러지거나 부러지거나

#실용주의프로그래머

현대의 빠른 변화속도를 따라가려면, 느슨하고 유연한 코드를 작성해야 한다.

## Topic 28. 결합도 줄이기

높은 결합도는 변경의 적이다. 결합도가 낮은 코드가 바꾸기 쉽다

### 열차 사고

기차의 모든 객차가 연결되어 있는 것 처럼, 메서드나 속성 모두 연결되어 있다. 이런 코드를 ‘열차 사고’라고 부른다. “묻지 말고 말하라”라는 원칙을 가지고 있어야 하고, 이 원칙은 다른 객체 내부 상태에 따라 판단을 내리고 그 객체를 갱신해 서는 안 된다는 것 이다.

> 특정 액션을 하는 객체 필요한 것들은 모두 넣어라 라는 뜻 일까요?
> 빌더패턴..?

### 데메테르 법칙

개발자들에게 보다 깨끗하고 결합도가 낮은 함수를 작성하는 방법을 알려주기 위해 만들었다. 조금 더 쉬운 표현으로 이야기하자면 “메서드 호출을 엮지 말라”
무언가를 접근할 때 “.”을 딱 하나만 쓰려고 노력해보아라. 다만, 엮이는 것들이 절대로 바뀌지 않는 경우 이 규칙을 지키지 않아도 된다.

### 글로벌화의 해악

전역 데이터 하나하나는 애플리케이션의 모든 메서드에 갑자기 매개 변수가 추가 된 것과 같은 효과를 낸다.
싱글턴, 외부 리소스도 모두 전역 데이터 이다.

### 결국 모두 ETC

결합된 코드는 바꾸기 힘들다..

> 뭔가 당연한 이야기를 장황하게 늘어놓은 Topic이였던 것 같아서… 흐음

## Topic 29. 실세계를 갖고 저글링하기

과거 우리가 컴퓨터에 맞추어야 했던 한계를 넘어서 이제 컴퓨터가 우리의 세계안으로 들어와야 한다.

### 이벤트

이벤트를 잘 설계할 수 있는 전력 4가지를 소개한다.

- 유한 상태 기계
  - 상태를 외부에 저장하면서 상태 기계를 동작시키면 작업 흐름에 필요한 요구사항을 수월하게 처리할 수 있다.
- 감시자 패턴
  - 자신이 관심있는 이벤트를 감시하고, 나중에 해당 이벤트가 발생할 경우 등록된 것을 호출한다.
- 게시-구독
  - 펍섭이라고 부르며 감시자 패턴을 일반화한 것이다.
  - 감시자 모델의 결합도를 높이는 문제와 성능 문제를 해결했다.
- 반응형 프로그래밍과 스트림 그리고 이벤트
  - React와 Vue 같은 것들이 반응형 프로그래밍을 구현한 무언가다.
  - 이벤트를 연결하기 위해 스트림 이라는 것이 필요하다.
  - 스트림은 이벤트를 일반적인 자료 구조처럼 다룰 수 있게 해준다. 이벤트의 리스트를 다룬다라는 개념과 비슷하다.

> 다른곳에서 많이 설명하는 디자인패턴들과 비슷한것들이 많네요

## Topic 30. 변환 프로그래밍

모든 프로그램은 데이터를 변환한다. 코드에만 집중한다면 핵심을 놓칠 수 있다. 프로그램이란 입력을 출력으로 바꾸는 것이라는 사고방식으로 돌아갈 필요가 있다.

리눅스 명령어 기준으로 보면, 한쪽 끝에서 원료 데이터를 제공하면 반대 쪽 끝에서 완성 제품인 정보가 나온다.

> 명령형 혹은 절차 이런것들을 말하는 것 일까요?

### 변환 찾기

- 요구사항에서 입력과 출력이 무엇인지 찾는다.
- 프로그램을 나타내는 함수가 정해진다.
- 입력을 출력으로 바꿔 가는 단계들을 찾으면 된다.
- 일종의 하향식 접근 방법이다.

어떤 함수던 매개 변수가 다른 함수의 출력 결과를 맞기만 하면 어디서나 사용하고 또 재사용할 수 있다. 이건 결합을 대폭 줄일 수 있다.

### 오류 처리는 어떻게 하나?

코드 작성 방식은 코드게 두 가지로 나뉜다.

- 오류 검사를 변환 안에서 하는 방식
- 변환 바깥에서 하는 방식

## Topic 31. 상속세

객체 지향 언어로 프로그래밍 하는가? 상속을 사용하는가? 그렇다면 멈춰라 아마 필요한 것은 상속이 아닐 것 이다.

> ?????

상속은 아래와 같은 문제를 가지고 있다.

- 코드를 공유하기 위해 상속을 쓸 때의 문제
- 타입을 정의하기 위해 상속을 쓸 때의 문제

상속을 쓸 필요 없게 해주는 세가지 기법을 소개한다.

- 인터페이스와 프로토콜
- 위임
- 믹스인과 트레이드
